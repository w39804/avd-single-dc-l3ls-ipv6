---
type: tenant_host

# L3 Leaf switch group
tenant_host:
  defaults:
    ip_routing: false

  node_groups:
      # Definition of a node group that will include two devices in MLAG.
      # Definitions under the group will be inherited by both nodes in the group
      - group: HOSTS

        nodes:

          - name: host01
          # 2. Configure the "NIC" (Uplink Interface)
            ethernet_interfaces:
              - name: Ethernet1
                description: "Uplink_to_Fabric_Leaf"
                shutdown: false
                # 'no switchport' to make it a routed port
                #switchport: false 
                # The IP of the host
                ip_address: 10.10.10.50/24 
                # Optional: Simulate a specific MTU if testing Jumbo Frames
                mtu: 9000

            # 3. Configure the Default Gateway
            # Since IP routing is off, we use a static route to the leaf's Anycast Gateway
            static_routes:
              - vrf: default
                prefix: 0.0.0.0/0
                #next-hop: 10.10.10.1

            # 4. (Optional) Management Interface
            management_interfaces:
              - name: Management0
                description: "OOB_Management"
                ip_address: 172.20.20.111/24
                gateway: 172.20.20.1
                vrf: MGMT

            # 5. (Optional) DNS for the Host
            ip_name_servers:
              - ip_address: 8.8.8.8
                vrf: MGMT

          - name: host02
          # 2. Configure the "NIC" (Uplink Interface)
            ethernet_interfaces:
              - name: Ethernet1
                description: "Uplink_to_Fabric_Leaf"
                shutdown: false
                # 'no switchport' to make it a routed port
                #switchport: false 
                # The IP of the host
                ip_address: 10.10.10.50/24 
                # Optional: Simulate a specific MTU if testing Jumbo Frames
                mtu: 9000

            # 3. Configure the Default Gateway
            # Since IP routing is off, we use a static route to the leaf's Anycast Gateway
            static_routes:
              - vrf: default
                prefix: 0.0.0.0/0
                #next-hop: 10.10.10.1

            # 4. (Optional) Management Interface
            management_interfaces:
              - name: Management0
                description: "OOB_Management"
                ip_address: 172.20.20.112/24
                gateway: 172.20.20.1
                vrf: MGMT

            # 5. (Optional) DNS for the Host
            ip_name_servers:
              - ip_address: 8.8.8.8
                vrf: MGMT

          - name: host03
        # 2. Configure the "NIC" (Uplink Interface)
            ethernet_interfaces:
              - name: Ethernet1
                description: "Uplink_to_Fabric_Leaf"
                shutdown: false
                # 'no switchport' to make it a routed port
                #switchport: false 
                # The IP of the host
                ip_address: 10.10.10.50/24 
                # Optional: Simulate a specific MTU if testing Jumbo Frames
                mtu: 9000

            # 3. Configure the Default Gateway
            # Since IP routing is off, we use a static route to the leaf's Anycast Gateway
            static_routes:
              - vrf: default
                prefix: 0.0.0.0/0
                #next-hop: 10.10.10.1

            # 4. (Optional) Management Interface
            management_interfaces:
              - name: Management0
                description: "OOB_Management"
                ip_address: 172.20.20.113/24
                gateway: 172.20.20.1
                vrf: MGMT

            # 5. (Optional) DNS for the Host
            ip_name_servers:
              - ip_address: 8.8.8.8
                vrf: MGMT

          - name: host04
        # 2. Configure the "NIC" (Uplink Interface)
            ethernet_interfaces:
              - name: Ethernet1
                description: "Uplink_to_Fabric_Leaf"
                shutdown: false
                # 'no switchport' to make it a routed port
                #switchport: false 
                # The IP of the host
                ip_address: 10.10.10.50/24 
                # Optional: Simulate a specific MTU if testing Jumbo Frames
                mtu: 9000

            # 3. Configure the Default Gateway
            # Since IP routing is off, we use a static route to the leaf's Anycast Gateway
            static_routes:
              - vrf: default
                prefix: 0.0.0.0/0
                #next-hop: 10.10.10.1

            # 4. (Optional) Management Interface
            management_interfaces:
              - name: Management0
                description: "OOB_Management"
                ip_address: 172.20.20.114/24
                gateway: 172.20.20.1
                vrf: MGMT

            # 5. (Optional) DNS for the Host
            ip_name_servers:
              - ip_address: 8.8.8.8
                vrf: MGMT